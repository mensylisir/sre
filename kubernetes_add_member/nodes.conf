#!/bin/bash

# ==============================================================================
# 核心配置文件 (V5 - Artifact + 复制配置)
# ==============================================================================

# --- SSH 配置 ---

# SSH 私钥，用于连接所有节点
SSH_PRIVATE_KEY_PATH="/var/tmp/ssh_config/localhuoyun"

# 连接任意一个健康的、已存在的 Master 节点。
# 主要用于获取集群范围的信息 (如 token)。
EXISTING_MASTER_IP="<PLEASE_CHANGE_EXISTING_MASTER_IP>"
EXISTING_MASTER_USER="root"

# 连接任意一个健康的、已存在的 Worker 节点。
# 脚本将从这个节点复制关键配置文件 (containerd, kubelet, haproxy) 作为最可靠的模板。
EXISTING_WORKER_IP="<PLEASE_CHANGE_EXISTING_WORKER_IP>"
EXISTING_WORKER_USER="root"


# --- Artifact 配置 ---

# 您在总控机上解压后的 KubeKey Artifact 目录的绝对路径。
# 脚本将从这里寻找所有二进制文件。
ARTIFACT_PATH="/root/cluster1/kubekey" # 请修改为您的实际路径


# --- 目标节点定义 ---

# 在这里列出所有你本次希望操作的新节点。
# 格式: "IP地址 角色(master/worker) SSH用户名"
ALL_NODES=(
  "<IP_1> <master|worker> <user>"
  "<IP_2> <master|worker> <user>"
)